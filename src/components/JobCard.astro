---
import "../styles/pixel-corners.css";
import { Image } from "astro:assets";

export interface JobCardProps {
    title: string;
    company: string;
    logo: ImageMetadata;
    url: string;
    isMobile?: boolean;
}

const { title, company, logo, url, isMobile = false } = Astro.props as JobCardProps;
---

<div class:list={["block", isMobile ? "ml-12 p-3 flex-1" : "p-2 text-center"]}>
    {
        isMobile ? (
            <a
                href={url}
                target="_blank"
                rel="noopener noreferrer"
                class="flex items-center"
                aria-label={`${title} at ${company} - opens in new tab`}
            >
                <Image
                    src={logo}
                    alt={`${company} logo`}
                    class="w-8 h-8 rounded-lg mr-3 bg-white dark:bg-gray-100 p-1"
                />

                <div class="flex-1"> 
                    <h3 class="text-sm font-semibold text-gray-900 dark:text-gray-100">
                        {title}
                    </h3>
                    <p class="text-xs text-gray-600 dark:text-gray-300">{company}</p>
                </div>
            </a>
        ) : (
            <>
                <a
                    href={url}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="pixel-corners inline-block mb-3"
                    aria-label={`${title} at ${company} - opens in new tab`}
                >
                    <Image
                        src={logo}
                        alt={`${company} logo`}
                        class="w-16 h-16 pixel-corners bg-white dark:bg-gray-100"
                        loading="eager"
                    />
                </a>
                <h3 class="text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1">
                    {title}
                </h3>
                <p class="text-xs text-gray-600 dark:text-gray-300 mb-2">{company}</p>
            </>
        )
    }
</div>
